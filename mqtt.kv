<MQTTClientKivy>:
    orientation: 'vertical'
    padding: 10
    spacing: 10

    BoxLayout:
        size_hint_y: None
        height: 30
        Label:
            text: "MQTT 客户端"
            font_size: 20
            bold: True

    ScrollView:
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: 10

            BoxLayout:
                size_hint_y: None
                height: 30
                Label:
                    text: "Broker:"
                TextInput:
                    id: broker_input
                    multiline: False

            BoxLayout:
                size_hint_y: None
                height: 30
                Label:
                    text: "端口:"
                TextInput:
                    id: port_input
                    multiline: False
                    text: "1883"

            BoxLayout:
                size_hint_y: None
                height: 30
                Label:
                    text: "Client ID:"
                TextInput:
                    id: client_id_input
                    multiline: False

            BoxLayout:
                size_hint_y: None
                height: 30
                Label:
                    text: "用户名:"
                TextInput:
                    id: username_input
                    multiline: False

            BoxLayout:
                size_hint_y: None
                height: 30
                Label:
                    text: "密码:"
                TextInput:
                    id: password_input
                    multiline: False
                    password: True

            Button:
                id: connect_btn
                text: "连接"
                on_press: root.toggle_connection()

            BoxLayout:
                size_hint_y: None
                height: 30
                Label:
                    text: "发布主题:"
                TextInput:
                    id: pub_topic_input
                    multiline: False

            BoxLayout:
                size_hint_y: None
                height: 100
                Label:
                    text: "消息内容:"
                TextInput:
                    id: message_input
                    multiline: True

            Button:
                text: "发布"
                on_press: root.publish_message()

            GridLayout:
                id: number_grid
                cols: 4
                size_hint_y: None
                height: 200
                spacing: 10
                padding: 10
                Button:
                    text: "0"
                    on_press: root.publish_number(0)
                Button:
                    text: "1"
                    on_press: root.publish_number(1)
                Button:
                    text: "2"
                    on_press: root.publish_number(2)
                Button:
                    text: "3"
                    on_press: root.publish_number(3)
                Button:
                    text: "4"
                    on_press: root.publish_number(4)
                Button:
                    text: "5"
                    on_press: root.publish_number(5)
                Button:
                    text: "6"
                    on_press: root.publish_number(6)
                Button:
                    text: "7"
                    on_press: root.publish_number(7)
                Button:
                    text: "8"
                    on_press: root.publish_number(8)
                Button:
                    text: "9"
                    on_press: root.publish_number(9)
                Button:
                    text: "10"
                    on_press: root.publish_number(10)
                Button:
                    text: "11"
                    on_press: root.publish_number(11)
                Button:
                    text: "12"
                    on_press: root.publish_number(12)
                Button:
                    text: "13"
                    on_press: root.publish_number(13)
                Button:
                    text: "14"
                    on_press: root.publish_number(14)
                Button:
                    text: "15"
                    on_press: root.publish_number(15)

    ScrollView:
        id: log_scroll
        size_hint_y: None
        height: 200
        Label:
            id: log_text
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            text: "日志:\n"
